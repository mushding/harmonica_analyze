{"version":3,"sources":["components/HomePageText/HomePageText.js","components/Footer/Footer.js","pages/HomePage/HomePage.js","components/ProgressCircle/ProgressCircle.js","components/RegionMessage/RegionMessage.js","components/ShowWave/ShowWave.js","components/Uploader/Uploader.js","components/Navbar/Navbar.js","pages/StartPage/StartPage.js","components/Recorder/Recorder.js","pages/RecordPage/RecordPage.js","pages/App.js","index.js"],"names":["HomePageText","props","state","hidden","checked","that","this","setTimeout","show","wait","s","Promise","resolve","reject","then","setState","className","Collapse","in","timeout","href","rel","target","React","Component","Footer","id","HomePage","ColorCircularProgress","withStyles","root","color","CircularProgress","RegionMessage","region","attributes","start","end","ShowWave","handdleRegionClick","console","log","delay","buttonRegionClick","regionContent","initWavesurfer","url","String","file","createWavesurfer","regionArr","length","createRegions","reCreateRegions","isRecord","wavesurfer","load","blobUrl","options","barWidth","cursorWidth","container","backend","height","progressColor","responsive","waveColor","cursorColor","plugins","RegionsPlugin","create","WaveSurfer","createMinimap","createTimeline","createCursor","on","onPlayEnd","buttonIsLoop","play","fetch","response","json","data","jsonData","progressState","len","regionColor","undefined","regionStateArr","i","regionData","regionDir","drag","resize","push","addRegion","catch","error","arrLen","reCreateWavesurfer","destroy","addPlugin","MinimapPlugin","initPlugin","TimelinePlugin","CursorPlugin","showTime","opacity","hideOnBlur","customShowTimeStyle","padding","checked_1","checked_2","togglePlay","bool","buttonIsPlay","playPause","toggleClearRegions","buttonIsShowRegions","clearRegions","toggleLoop","toggleShowMiniMap","buttonIsShowMiniMap","destroyPlugin","toggleShowTimeline","buttonIsShowTimeline","toggleShowCursor","buttonIsShowCursor","onClick","disabled","Pause","PlayArrow","SyncOutlined","SyncDisabledOutlined","Refresh","Uploader","handleUploadImage","ev","preventDefault","FormData","uploadInput","files","alert","size","append","filename","name","method","body","ok","Error","isUploadFile","toggleSelect","event","persist","value","toggleSelectButton","onSubmit","htmlFor","ref","type","accept","onChange","unmountOnExit","Navbar","StartPage","mediaRecorder","Recorder","getMicDevice","navigator","mediaDevices","enumerateDevices","deviceInfos","mics","deviceInfo","kind","isMicAvailable","label","deviceId","option","document","createElement","text","micDeviceRef","current","appendChild","toggleStart","contraints","audio","exact","video","getUserMedia","stream","MediaRecorder","audioBitsPerSecond","mimeType","addEventListener","e","handleDataAvailable","recordChecked","blobDataInWebaFormat","blobDataInWavFormat","Blob","dataUrl","URL","createObjectURL","wavdata","isStop","toggleStop","stop","progressChecked","createRef","canvasRef","RecordPage","App","path","render","to","component","ReactDOM","getElementById"],"mappings":"+bAKqBA,E,YACpB,WAAYC,GAAO,IAAD,8BACX,4CAAMA,KACDC,MAAQ,CACTC,OAAQ,SACRC,SAAS,GAJF,E,kFAQX,IAAIC,EAAOC,KACjBC,YAAW,WACVF,EAAKG,SACHH,EAAKJ,MAAMQ,Q,6BAGR,IACeC,EADXL,EAAOC,KAEA,IAAIK,SAAQ,SAASC,EAASC,GACjCN,WAAWK,EAAQF,MAGnBI,MAAK,WACTT,EAAKU,SAAS,CAACZ,OAAQ,QAExBW,MAAK,WACJT,EAAKU,SAAS,CAACX,SAAS,S,+BAI5B,OACI,yBAAKY,UAAWV,KAAKJ,MAAMC,QACvB,kBAACc,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAME,QAASe,QAAS,MACvC,6BACI,kDACA,gJAAsB,6BAAtB,gHAEA,uBAAGC,KAAK,gDAAgDC,IAAI,sBAAsBC,OAAO,UAAS,kBAAC,IAAD,c,GApChFC,IAAMC,WCH3BC,E,iLAEb,OACI,4BAAQC,GAAG,UACnB,uBAAGV,UAAU,aAAb,0BAAkD,uBAAGI,KAAK,uBAAR,YAAlD,U,GAJgCG,IAAMC,WCGrBG,E,8NAIb,OACI,6BAEI,yBAAKD,GAAG,WACP,4BAAQA,GAAG,UACtB,yBAAKV,UAAU,QACd,0BAAMA,UAAU,uBAEjB,yBAAKA,UAAU,WACd,yBAAKA,UAAU,SACd,kBAAC,EAAD,CAAcP,KAAM,QAGtB,6BACC,4BACC,4BAAI,uBAAGW,KAAK,YAAR,aAIP,kBAAC,EAAD,Y,GAvBiCI,a,wCCIvBI,EANeC,YAAW,CACvCC,KAAM,CACJC,MAAO,YAFmBF,CAI3BG,K,qFCLkBC,G,0OAIb,IAAMC,EAAS5B,KAAKL,MAAMiC,OAC1B,OACI,yBAAKlB,UAAU,oBACX,yBAAKA,UAAU,iBACa,MAAtBkB,EAAOC,WACL,6BACI,wGACA,iIAEkB,MAAtBD,EAAOC,WACP,6BACI,wGACA,yGAEkB,MAAtBD,EAAOC,WACP,6BACI,kGACA,+JAGJ,2CAAiBD,EAAOC,aAGhC,yBAAKnB,UAAU,iBACX,wCAAckB,EAAOE,MAArB,SAEJ,yBAAKpB,UAAU,iBACX,sCAAYkB,EAAOG,IAAnB,c,GA/BuBd,IAAMC,Y,wCCiB5Bc,E,YACjB,WAAYrC,GAAO,IAAD,8BACd,4CAAMA,KAgBVsC,mBAAqB,SAACL,GAClBM,QAAQC,IAAIP,GACZ,IAAI7B,EAAI,eACVqC,EAAQ,SAAChC,GACH,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBN,WAAWK,EAASF,OAG5BgC,IAAQ5B,MAAK,WAET,OADAT,EAAKU,SAAS,CAAE4B,mBAAmB,IAC5BD,EAAM,QACd5B,MAAK,WACJT,EAAKU,SAAS,CAAE6B,cAAeV,OAChCpB,MAAK,WACJT,EAAKU,SAAS,CAAE4B,mBAAmB,QA/BzB,EAkClBE,eAAiB,WACb,IAAMC,EAAM,oCAAsCC,OAAO,EAAK9C,MAAM+C,MACpE,EAAKC,mBAC+B,IAAhC,EAAK/C,MAAMgD,UAAUC,OACrB,EAAKC,gBAEL,EAAKC,kBAET,EAAKpD,MAAMqD,SAAW,EAAKC,WAAWC,KAAK,EAAKvD,MAAMwD,SAAW,EAAKF,WAAWC,KAAKV,IA1CxE,EA4ClBG,iBAAmB,WACf,IAAMS,EAAU,CACZC,SAAU,EACVC,YAAa,EACbC,UAAW,YACXC,QAAS,eACTC,OAAQ,IACRC,cAAe,UACfC,YAAY,EACZC,UAAW,OACXC,YAAa,UACbC,QAAS,CACLC,IAAcC,WAGhBf,EAAagB,IAAWD,OAAOZ,GACrC,EAAKH,WAAaA,EAClB,EAAKiB,gBACL,EAAKC,iBACL,EAAKC,eAGLnB,EAAWoB,GAAG,aAAa,SAACzC,GACxB,EAAKA,OAASA,KAElBqB,EAAWoB,GAAG,aAAc,EAAKC,WACjCrB,EAAWoB,GAAG,eAAgB,EAAKpC,qBAtErB,EAwElBqC,UAAY,WACR,EAAK1E,MAAM2E,aAAe,EAAKtB,WAAWuB,OAAS,EAAKvB,WAAWuB,KAAK,EAAK5C,OAAOE,QAzEtE,EA2ElBgB,cAAgB,WA6CZ,OA5CA2B,MAAM,0CAA4C,EAAK9E,MAAM+C,KAAM,IAC9DlC,MAAK,SAACkE,GACgBrE,QAAQC,QAAQoE,EAASC,QAC/BnE,MAAK,SAACoE,GACf,OAAOA,KACRpE,MAAK,SAACqE,GACL,EAAKpE,SAAS,CAAEqE,eAAe,IAI/B,IAHA,IAAIC,EAAMF,EAAShC,OACfmC,OAAcC,EACdC,EAAiB,GACZC,EAAI,EAAGA,EAAIJ,EAAKI,IAAI,CACzB,IAAMC,EAAaP,EAASM,GAE5B,OADkBN,EAASM,GAAT,MAEd,IAAK,IACDH,EAAc,2BACd,MACJ,IAAK,IACDA,EAAc,2BACd,MACJ,IAAK,IACDA,EAAc,2BAKtB,IAAMK,EAAY,CACdvD,MAAOsD,EAAU,MACjBrD,IAAKqD,EAAU,IACfE,KAAMF,EAAU,KAChBG,OAAQH,EAAU,OAClBvD,WAAYuD,EAAU,KACtB3D,MAAOuD,GAEXE,EAAeM,KAAKH,GACpB,EAAKpC,WAAWwC,UAAUJ,GAE9B,EAAK5E,SAAS,CAAEmC,UAAWsC,UAGlCQ,OAAM,SAACC,GAEJ,OADAzD,QAAQC,IAAIwD,IACL,MAER,GAxHO,EA0HlB5C,gBAAkB,WAEd,IADA,IAAI6C,EAAS,EAAKhG,MAAMgD,UAAUC,OAC1BsC,EAAI,EAAGA,EAAIS,EAAQT,IACvB,EAAKlC,WAAWwC,UAAU,EAAK7F,MAAMgD,UAAUuC,KA7HrC,EAgIlBU,mBAAqB,WACjB,EAAK5C,WAAW6C,UAChB,EAAKvD,iBACL,EAAK9B,SAAS,CAAE4B,mBAAmB,KAnIrB,EAqIlB6B,cAAgB,WACZ,EAAKjB,WAAW8C,UAAUC,IAAchC,OAAO,CAC3CT,UAAW,gBACXK,UAAW,OACXF,cAAe,OACfD,OAAQ,MACRwC,WAAW,YA3ID,EA6IlB9B,eAAiB,WACb,EAAKlB,WAAW8C,UAAUG,IAAelC,OAAO,CAC5CT,UAAW,oBACX0C,WAAW,aAhJD,EAkJlB7B,aAAe,WACX,EAAKnB,WAAW8C,UAAUI,IAAanC,OAAO,CAC1CoC,UAAU,EACVC,QAAS,EACTC,YAAY,EACZ7E,MAAO,UACP8E,oBAAqB,CACjB,mBAAoB,UACpB9E,MAAO,OACP+E,QAAS,MACT,YAAa,WAEjBP,WAAW,WA9JD,EAuKlB/F,KAAO,WACH,IAAIH,EAAI,eACVqC,EAAQ,SAAChC,GACH,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBN,WAAWK,EAASF,OAG5BgC,IAAQ5B,MAAK,WAET,OADAT,EAAKU,SAAS,CAACgG,WAAW,IACnBrE,EAAM,QACd5B,MAAK,WACJT,EAAKU,SAAS,CAACiG,WAAW,QAlLhB,EAqLlBC,WAAa,WACT,IAAMC,EAAO,EAAKhH,MAAMiH,aACxB,EAAK5D,WAAW6D,YAChB,EAAKrG,SAAS,CAAEoG,cAAeD,KAxLjB,EA0LlBG,mBAAqB,WACjB,IAAMH,EAAO,EAAKhH,MAAMoH,oBACxBJ,EAAO,EAAK3D,WAAWgE,eAAiB,EAAKlE,kBAC7C,EAAKtC,SAAS,CAAEuG,qBAAsBJ,KA7LxB,EA+LlBM,WAAa,WACT,IAAMN,EAAO,EAAKhH,MAAM2E,aACxB,EAAK9D,SAAS,CAAE8D,cAAeqC,KAjMjB,EAmMlBO,kBAAoB,WAChB,IAAMP,EAAO,EAAKhH,MAAMwH,oBACxBR,EAAO,EAAK3D,WAAWoE,cAAc,WAAa,EAAKnD,gBACvD,EAAKzD,SAAS,CAAE2G,qBAAsBR,KAtMxB,EAwMlBU,mBAAqB,WACjB,IAAMV,EAAO,EAAKhH,MAAM2H,qBACxBX,EAAO,EAAK3D,WAAWoE,cAAc,YAAc,EAAKlD,iBACxD,EAAK1D,SAAS,CAAE8G,sBAAuBX,KA3MzB,EA6MlBY,iBAAmB,WACf,IAAMZ,EAAO,EAAKhH,MAAM6H,mBACxBb,EAAO,EAAK3D,WAAWoE,cAAc,UAAY,EAAKjD,eACtD,EAAK3D,SAAS,CAAEgH,oBAAqBb,KA9MrC,EAAKhH,MAAQ,CACTgD,UAAW,GACXN,cAAe,GACfuE,cAAc,EACdtC,cAAc,EACdyC,qBAAqB,EACrBI,qBAAqB,EACrBG,sBAAsB,EACtBE,oBAAoB,EACpBpF,mBAAmB,EACnBoE,WAAW,EACXC,WAAW,EACX5B,eAAe,GAdL,E,iFAiKd9E,KAAKuC,iBACL,IAAIxC,EAAOC,KACjBC,YAAW,WACVF,EAAKG,SACHH,EAAKJ,MAAMQ,Q,+BA8CR,OACI,6BACI,kBAACQ,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAM6G,UAAW5F,QAAS,MACzC,yBAAKH,UAAU,uBACX,yBAAKA,UAAU,iBACX,yBAAKU,GAAG,aACR,6BACA,yBAAKA,GAAG,iBACR,yBAAKA,GAAG,qBAIpB,kBAACT,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAM8G,UAAW7F,QAAS,KACzC,yBAAKH,UAAU,mBACX,4BAAQgH,QAAS1H,KAAK2G,WAAYgB,SAAU3H,KAAKJ,MAAMkF,eACnD,yBAAKpE,UAAU,cACTV,KAAKJ,MAAMiH,aAAe,kBAACe,EAAA,EAAD,MAAW,kBAACC,EAAA,EAAD,QAG/C,4BAAQH,QAAS1H,KAAKkH,WAAYS,SAAU3H,KAAKJ,MAAMkF,eACnD,yBAAKpE,UAAU,cACTV,KAAKJ,MAAM2E,aAAe,kBAACuD,EAAA,EAAD,MAAkB,kBAACC,EAAA,EAAD,QAGtD,4BAAQL,QAAS1H,KAAK+G,mBAAoBY,SAAU3H,KAAKJ,MAAMkF,eACzD9E,KAAKJ,MAAMoH,oBAAsB,kBAAoB,gBAE3D,4BAAQU,QAAS1H,KAAKmH,kBAAmBQ,SAAU3H,KAAKJ,MAAMkF,eACxD9E,KAAKJ,MAAMwH,oBAAsB,gBAAkB,gBAEzD,4BAAQM,QAAS1H,KAAKsH,mBAAoBK,SAAU3H,KAAKJ,MAAMkF,eACzD9E,KAAKJ,MAAM2H,qBAAuB,iBAAmB,iBAE3D,4BAAQG,QAAS1H,KAAKwH,iBAAkBG,SAAU3H,KAAKJ,MAAMkF,eACvD9E,KAAKJ,MAAM6H,mBAAqB,eAAiB,eAEvD,4BAAQC,QAAS1H,KAAK6F,mBAAoB8B,SAAU3H,KAAKJ,MAAMkF,eAC3D,yBAAKpE,UAAU,cACX,kBAACsH,EAAA,EAAD,QAGNhI,KAAKJ,MAAMkF,cACT,yBAAKpE,UAAU,qBACX,kBAAC,EAAD,OAGJ,kBAACC,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAMkF,cAAejE,QAAS,KAC7C,iCAKhB,kBAACF,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAMyC,kBAAmBxB,QAAS,KACjD,kBAAC,EAAD,CAAee,OAAQ5B,KAAKJ,MAAM0C,sB,GAzQhBrB,IAAMC,WCuI7B+G,E,YApJX,WAAYtI,GAAQ,IAAD,8BACf,4CAAMA,KAcVO,KAAO,WACH,IAAIH,EAAI,eACVqC,EAAQ,SAAChC,GACH,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBN,WAAWK,EAAQF,OAG3BgC,IAAQ5B,MAAK,WACT4B,EAAM,KACNrC,EAAKU,SAAS,CAAEX,SAAS,QAxBd,EA2BnBoI,kBAAoB,SAACC,GAEjBA,EAAGC,iBACH,IAAMxD,EAAO,IAAIyD,SAGjB,IAAI,EAAKC,YAAYC,MAAM1F,OASvB,OADA2F,MAAM,oCACC,EANP,GADe,EAAKF,YAAYC,MAAM,GAAGE,KADzB,SAIZ,OADAD,MAAM,mCACC,EAMf5D,EAAK8D,OAAO,OAAQ,EAAKJ,YAAYC,MAAM,IAC3C,EAAK9H,SAAS,CAAEkI,SAAU,EAAKL,YAAYC,MAAM,GAAGK,OAGnB,SAA7B,EAAKhJ,MAAMkF,eAIf,EAAKrE,SAAS,CAAEqE,cAAe,aAG/BL,MAAM,sCAAuC,CACzCoE,OAAQ,OACRC,KAAMlE,IACPpE,MAAK,SAACkE,GACL,GAAGA,EAASqE,GAER,OADA,EAAKtI,SAAS,CAAEqE,cAAe,YACvBJ,EAER,MAAM,IAAIsE,MAAM,2BAErBxI,MAAK,WACJ0B,QAAQC,IAAI,UACZ,EAAK1B,SAAS,CAAEwI,cAAc,OAC/BvD,OAAM,SAACC,GACNzD,QAAQC,IAAIwD,OApBZ,EAAKlF,SAAS,CAAEqE,cAAe,UAjDpB,EAwEnBoE,aAAe,SAACC,GACZA,EAAMC,UACN,EAAK3I,SAAS,CAACkI,SAAUQ,EAAMnI,OAAOqI,SA1EvB,EA4EnBC,mBAAqB,WACjB,GAA4B,YAAxB,EAAK1J,MAAM+I,SAEX,OADAH,MAAM,6BACC,EAEX,EAAK/H,SAAS,CAAEwI,cAAc,KA/E9B,EAAKrJ,MAAQ,CACTE,SAAS,EACTmJ,cAAc,EACdN,SAAU,UACV7D,cAAe,QANJ,E,iFAUf,IAAI/E,EAAOC,KACjBC,YAAW,WACVF,EAAKG,SACHH,EAAKJ,MAAMQ,Q,+BAsEF,IAAD,OACL,OAAKH,KAAKJ,MAAMqJ,aAwDR,6BACI,kBAAC,EAAD,CAAUvG,KAAM1C,KAAKJ,MAAM+I,SAAU3F,UAAU,KAvDnD,6BACI,kBAACrC,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAME,QAASe,QAAS,KACvC,yBAAKH,UAAU,mBACX,0BAAM6I,SAAUvJ,KAAKkI,kBAAmBxH,UAAU,iBAC9C,yBAAKA,UAAU,eACX,2BAAO8I,QAAQ,cAAc9I,UAAU,sBAAvC,iCAGA,2BAAO+I,IAAK,SAACA,GAAU,EAAKnB,YAAcmB,GAAQC,KAAK,OAAOtI,GAAG,cAAcuI,OAAO,eAE1F,yBAAKjJ,UAAU,eACX,4BAAQiH,SAAuC,aAA7B3H,KAAKJ,MAAMkF,eAA7B,kBAGR,yBAAKpE,UAAU,iBACX,yBAAKA,UAAU,SACtC,2BAAO8I,QAAQ,iBAAf,8CACA,4BAAQH,MAAOrJ,KAAKJ,MAAM+I,SAAUC,KAAK,gBAAgBxH,GAAG,gBAAgBwI,SAAU5J,KAAKkJ,cAC1F,4BAAQG,MAAM,WAAd,KACA,4BAAQA,MAAM,mBAAd,wBAGsB,yBAAK3I,UAAU,eACX,4BAAQgH,QAAS1H,KAAKsJ,mBAAoB5I,UAAU,eAAeiH,SAAuC,aAA7B3H,KAAKJ,MAAMkF,eAAxF,kBAGR,yBAAKpE,UAAU,mBACX,yBAAKA,UAAU,uBACX,0EAEJ,yBAAKA,UAAU,cACX,uBAAGI,KAAK,aAAY,2EAGE,YAA7Bd,KAAKJ,MAAMkF,cACR,yBAAKpE,UAAU,WAEf,kBAACC,EAAA,EAAD,CACIC,GAAiC,aAA7BZ,KAAKJ,MAAMkF,cACfjE,QAAS,IACTgJ,eAAa,GAEb,yBAAKnJ,UAAU,qBACX,kBAAC,EAAD,e,GAlIjBO,IAAMC,W,iBCDR4I,G,uLAEb,OACI,yBAAKpJ,UAAU,YACX,uBAAGI,KAAK,WAAU,kBAAC,IAAD,Y,GAJEG,IAAMC,YCArB6I,E,iLAEb,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,W,GALuB9I,IAAMC,WCGzC8I,G,MAAgB,MAECC,E,YACjB,WAAYtK,GAAQ,IAAD,8BACf,4CAAMA,KAmBVuK,aAAe,WACXC,UAAUC,aAAaC,mBAClB7J,MAAK,SAAC8J,GAEH,IADA,IAAIC,EAAO,GACFpF,EAAI,EAAGA,IAAMmF,EAAYzH,SAAUsC,EAAG,CAC3C,IAAIqF,EAAaF,EAAYnF,GAC7B,GAAwB,eAApBqF,EAAWC,KAAuB,CAClC,EAAKhK,SAAS,CAAEiK,gBAAgB,IAChCH,EAAK/E,KAAKgF,GACV,IAAIG,EAAQH,EAAWG,OAAS,cAAgBJ,EAAK1H,OACrDX,QAAQC,IAAI,OAAQwI,EAAQ,IAAMH,EAAWI,UAC7C,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOxB,MAAQmB,EAAWI,SAC1BC,EAAOG,KAAOL,EACd,EAAKM,aAAaC,QAAQC,YAAYN,SAlCvC,EAuCnB3K,KAAO,WACH,IAAIH,EAAI,eACJqC,EAAQ,SAAAhC,GACR,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBN,WAAWK,EAASF,OAG5BgC,IAAQ5B,MAAK,WACT4B,EAAM,KACNrC,EAAKU,SAAS,CAAEX,SAAS,QAhDd,EAmDnBsL,YAAc,WACV,GAAK,EAAKxL,MAAM8K,eAAhB,CAIA,IAAMW,EAAa,CACfC,MAAO,CACHV,SAAU,CACNW,MAAO,EAAKN,aAAaC,QAAQ7B,QAGzCmC,OAAO,GAEXrB,UAAUC,aAAaqB,aAAaJ,GAC/B7K,MAAK,SAAAkL,IAKF1B,EAAgB,IAAI2B,cAAcD,EAJlB,CACZE,mBAAoB,OACpBC,SAAU,gBAGAC,iBAAiB,iBAAiB,SAACC,GACzCA,EAAEnH,KAAK6D,KAAO,GACd,EAAKuD,oBAAoBD,MAGjC/B,EAAclI,QACd,EAAKrB,SAAS,CAAEwL,eAAe,YAxBnCzD,MAAM,6BArDK,EAgFnBwD,oBAAsB,SAAC7C,GACnB,IAAM+C,EAAuB/C,EAAMvE,KAC7BuH,EAA4B,IAAIC,KAAK,CAACF,GAAuB,CAAExC,KAAM,cACrE2C,EAAUC,IAAIC,gBAAgBJ,GACpC,EAAK1L,SAAS,CAAE0C,QAASkJ,IACzBnK,QAAQC,IAAIgK,GACZjK,QAAQC,IAAIkK,GAGZ,IAAIG,EAAU,IAAInE,SAClBmE,EAAQ9D,OAAO,OAAQyD,GAEvB1H,MAAM,4CAA6C,CAC/CoE,OAAQ,OACRC,KAAM0D,IACPhM,MAAK,SAAAkE,GACJ,EAAKjE,SAAS,CAAEgM,QAAQ,QAhGb,EAmGnBC,WAAa,WACT1C,EAAc2C,OACd,EAAKlM,SAAS,CAAEwL,eAAe,IAC/B,EAAKxL,SAAS,CAAEmM,iBAAiB,IACjC,EAAKZ,uBArGL,EAAKpM,MAAQ,CACT6M,QAAQ,EACR3M,SAAS,EACTmM,eAAe,EACfW,iBAAiB,EACjBzJ,QAAS,GACTuH,gBAAgB,GAEpB,EAAKO,aAAehK,IAAM4L,YAC1B,EAAKC,UAAY7L,IAAM4L,YAXR,E,iFAcf7M,KAAKkK,eACL,IAAInK,EAAOC,KACXC,YAAW,WACPF,EAAKG,SACNH,EAAKJ,MAAMQ,Q,+BAwFd,OAAKH,KAAKJ,MAAM6M,OAkCR,kBAAC,EAAD,CACIzJ,UAAU,EACVG,QAASnD,KAAKJ,MAAMuD,QACpBT,KAAK,eAnCT,6BACI,kBAAC/B,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAME,QAASe,QAAS,KACvC,yBAAKH,UAAU,mBACX,4BAAQA,UAAU,kBAAkB+I,IAAKzJ,KAAKiL,aAAcrC,KAAK,GAAGxH,GAAG,cACvE,4BACIV,UAAU,wBACVgH,QAAS1H,KAAKoL,aAFlB,gBAMA,4BACI1K,UAAU,wBACVgH,QAAS1H,KAAK0M,YAFlB,iBAQR,kBAAC/L,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAMgN,gBAAiB/L,QAAS,KAC/C,yBAAKH,UAAU,qBACX,kBAAC,EAAD,QAGR,kBAACC,EAAA,EAAD,CAAUC,GAAIZ,KAAKJ,MAAMqM,cAAepL,QAAS,KAC7C,yBAAKH,UAAU,0BACX,oD,GAtIUO,IAAMC,WCNvB6L,E,8NAIb,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,W,GAPwB9L,IAAMC,WCkB/B8L,E,iLAbP,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOzB,OAAK,EAAC0B,KAAK,IAAIC,OAAQ,kBAAM,kBAAC,IAAD,CAAUC,GAAG,aACjD,kBAAC,IAAD,CAAOF,KAAK,QAAQG,UAAW/L,IAC/B,kBAAC,IAAD,CAAO4L,KAAK,SAASG,UAAWrD,IAChC,kBAAC,IAAD,CAAOkD,KAAK,UAAUG,UAAWL,U,GARnC7L,aCFlBmM,IAASH,OAAO,kBAAC,EAAD,MAASpC,SAASwC,eAAe,W","file":"static/js/main.05f8ded7.chunk.js","sourcesContent":["import React from 'react'\nimport './styles.css'\nimport Collapse from '@material-ui/core/Collapse';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nexport default class HomePageText extends React.Component{\n\tconstructor(props){\n        super(props)\n        this.state = {\n            hidden: \"hidden\",\n            checked: false,\n        }\n    }\n\tcomponentWillMount(){\n        var that = this;\n\t\tsetTimeout(function() {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n\t}\n\tshow() {\n        var that = this\n\t\tvar delay = function(s){\n            return new Promise(function(resolve, reject){\n                setTimeout(resolve,s); \n            });\n        };\n        delay().then(function(){\n            that.setState({hidden: \"\"})\n            // return delay(200); \n        }).then(function(){\n            that.setState({checked: true})\n        });\n\t}\n    render() {\n        return (\n            <div className={this.state.hidden}>\n                <Collapse in={this.state.checked} timeout={1800}>\n                    <div>\n                        <h1>Harmonica Analyzer</h1>\n                        <p>一個給口琴初學者自我檢驗好壞的訓練模型<br/>\n                        可以自動分類吹錯音、音不飽滿…等問題</p>\n                        <a href=\"https://github.com/mushding/harmonica_analyze\" rel=\"noopener noreferrer\" target=\"_blank\"><GitHubIcon/></a>\n                    </div>\n                </Collapse>\n            </div>\n        )\n    }\n};","import React from 'react'\n\nexport default class Footer extends React.Component{\n    render(){\n        return(\n            <footer id=\"footer\">\n\t\t\t\t<p className=\"copyright\">&copy; Untitled. Design: <a href=\"https://html5up.net\">HTML5 UP</a>.</p>\n\t\t\t</footer>\n        );\n    }\n}","import React, { Component } from 'react';\nimport '../../assets/css/main.css'\nimport HomePageText from '../../components/HomePageText/HomePageText'\nimport Footer from '../../components/Footer/Footer'\n\nexport default class HomePage extends Component{\n    componentDidMount(){\n    }\n    render(){\n        return (\n            <div>\n                {/* <ShowWave/> */}\n                <div id=\"wrapper\">\n                \t<header id=\"header\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<span className=\"icon fa-chart-bar\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<div className=\"inner\">\n\t\t\t\t\t\t\t\t<HomePageText wait={1000}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<nav>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li><a href=\"/#/start\">start</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</header>\t\n\t\t\t\t\t<Footer/>\n                </div>\n            </div>\n        );\n    }\n}","import { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst ColorCircularProgress = withStyles({\n  root: {\n    color: '#005266',\n  },\n})(CircularProgress);\n\nexport default ColorCircularProgress","import React from 'react'\nimport './styles.css'\nexport default class RegionMessage extends React.Component{\n    componentDidMount(){\n    }\n    render(){\n        const region = this.props.region\n        return(\n            <div className=\"messageContainer\">\n                <div className=\"textContainer\">\n                    { region.attributes === \"1\" ? (\n                        <div>\n                            <h3>這裡的音色吹得不太飽滿喔</h3>\n                            <h3>試著把嘴吧張大一點，把琴格都蓋滿</h3>\n                        </div>\n                    ) : region.attributes === \"2\" ? (\n                        <div>\n                            <h3>這裡有吹到兩個以上的音喔</h3>\n                            <h3>跳位練習可以多加強一些！</h3>\n                        </div>\n                    ) : region.attributes === \"4\" ? (\n                        <div>\n                            <h3>這裡換氣的聲音太大聲囉</h3>\n                            <h3>慢慢的吸氣，換氣的時候嘴吧不用離口琴太遠喔</h3>\n                        </div>\n                    ) : (\n                        <h3>attributes: {region.attributes}</h3>\n                    )}\n                </div>\n                <div className=\"textContainer\">\n                    <h3>start at {region.start} sec</h3>\n                </div>\n                <div className=\"textContainer\">\n                    <h3>end at {region.end} sec</h3>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WaveSurfer from 'wavesurfer.js';\nimport CursorPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.cursor';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions';\nimport MinimapPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.minimap';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline';\nimport './styles.css';\nimport RegionMessage from '../RegionMessage/RegionMessage'\nimport Collapse from '@material-ui/core/Collapse';\nimport ColorCircularProgress from '../ProgressCircle/ProgressCircle'\nimport {\n    PlayArrow,\n    Pause,\n    SyncDisabledOutlined,\n    SyncOutlined,\n    Refresh,\n} from '@material-ui/icons'\n\nexport default class ShowWave extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            regionArr: [],\n            regionContent: {},\n            buttonIsPlay: false,\n            buttonIsLoop: false,\n            buttonIsShowRegions: true,\n            buttonIsShowMiniMap: true,\n            buttonIsShowTimeline: true,\n            buttonIsShowCursor: true,\n            buttonRegionClick: false,\n            checked_1: false,\n            checked_2: false,\n            progressState: true,\n        }\n    }\n    handdleRegionClick = (region) => {\n        console.log(region)\n        let that = this\n\t\tlet delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve, s); \n            });\n        };\n        delay().then(() => {\n            that.setState({ buttonRegionClick: false })\n            return delay(1000); \n        }).then(() => {\n            that.setState({ regionContent: region })\n        }).then(() => {\n            that.setState({ buttonRegionClick: true })\n        })\n    }\n    initWavesurfer = () => {\n        const url = \"https://www.haranalyzer.site/wav/\" + String(this.props.file)\n        this.createWavesurfer()\n        if (this.state.regionArr.length === 0) {\n            this.createRegions()\n        } else {\n            this.reCreateRegions()\n        }\n        this.props.isRecord ? this.wavesurfer.load(this.props.blobUrl) : this.wavesurfer.load(url)\n    }\n    createWavesurfer = () => {\n        const options = {\n            barWidth: 1,\n            cursorWidth: 1,\n            container: '#waveform',\n            backend: 'MediaElement',\n            height: 200,\n            progressColor: '#005266',\n            responsive: true,\n            waveColor: '#fff',\n            cursorColor: '#005266',\n            plugins: [\n                RegionsPlugin.create(),\n            ]\n        };\n        const wavesurfer = WaveSurfer.create(options);\n        this.wavesurfer = wavesurfer\n        this.createMinimap()\n        this.createTimeline()\n        this.createCursor()\n\n        // event listener\n        wavesurfer.on('region-in', (region) => {\n            this.region = region\n        })\n        wavesurfer.on('region-out', this.onPlayEnd)\n        wavesurfer.on('region-click', this.handdleRegionClick)\n    }\n    onPlayEnd = () => {\n        this.state.buttonIsLoop ? this.wavesurfer.play() : this.wavesurfer.play(this.region.start)\n    }\n    createRegions = () => {\n        fetch(\"https://www.haranalyzer.site/getoutput/\" + this.props.file, {})\n            .then((response) => {\n                let data_promise = Promise.resolve(response.json())\n                data_promise.then((data) => {\n                    return data\n                }).then((jsonData) => {\n                    this.setState({ progressState: false })\n                    let len = jsonData.length\n                    let regionColor = undefined\n                    let regionStateArr = []\n                    for (let i = 0; i < len; i++){\n                        const regionData = jsonData[i]\n                        const errorType = jsonData[i][\"type\"]\n                        switch (errorType){\n                            case \"1\":\n                                regionColor = \"hsla(197, 40%, 23%, 0.3)\"\n                                break;\n                            case \"2\":\n                                regionColor = \"hsla(195, 63%, 23%, 0.2)\"\n                                break;\n                            case \"4\":\n                                regionColor = \"hsla(216, 63%, 23%, 0.2)\"\n                                break;\n                            default:\n                                break;\n                        }\n                        const regionDir = {\n                            start: regionData[\"start\"],\n                            end: regionData[\"end\"],\n                            drag: regionData[\"drag\"],\n                            resize: regionData[\"resize\"],\n                            attributes: regionData[\"type\"],\n                            color: regionColor,\n                        }\n                        regionStateArr.push(regionDir)\n                        this.wavesurfer.addRegion(regionDir) \n                    }\n                    this.setState({ regionArr: regionStateArr})\n                })\n            })\n            .catch((error) => {\n                console.log(error)\n                return false\n            })\n        return true\n    }\n    reCreateRegions = () => {\n        let arrLen = this.state.regionArr.length\n        for(let i = 0; i < arrLen; i++){\n            this.wavesurfer.addRegion(this.state.regionArr[i]) \n        }\n    }\n    reCreateWavesurfer = () => {\n        this.wavesurfer.destroy()\n        this.initWavesurfer()\n        this.setState({ buttonRegionClick: false })\n    }\n    createMinimap = () => {\n        this.wavesurfer.addPlugin(MinimapPlugin.create({\n            container: '#wave-minimap',\n            waveColor: '#777',\n            progressColor: '#222',\n            height: 50,\n        })).initPlugin('minimap')\n    }\n    createTimeline = () => {\n        this.wavesurfer.addPlugin(TimelinePlugin.create({\n            container: \"#wave-timeline\",\n        })).initPlugin('timeline')\n    }\n    createCursor = () => {\n        this.wavesurfer.addPlugin(CursorPlugin.create({\n            showTime: true,\n            opacity: 1,\n            hideOnBlur: true,\n            color: \"#005266\",\n            customShowTimeStyle: {\n                'background-color': '#005266',\n                color: '#fff',\n                padding: '3px',\n                'font-size': '15px'\n            }\n        })).initPlugin('cursor')\n    }\n    componentDidMount(){\n        this.initWavesurfer()\n        var that = this;\n\t\tsetTimeout(() => {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n    }\n    show = () => {\n        let that = this\n\t\tlet delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve, s); \n            });\n        };\n        delay().then(() => {\n            that.setState({checked_1: true})\n            return delay(800); \n        }).then(() => {\n            that.setState({checked_2: true})\n        });\n    }\n    togglePlay = () => {\n        const bool = this.state.buttonIsPlay\n        this.wavesurfer.playPause();\n        this.setState({ buttonIsPlay: !bool })\n    }\n    toggleClearRegions = () => {\n        const bool = this.state.buttonIsShowRegions\n        bool ? this.wavesurfer.clearRegions() : this.reCreateRegions()\n        this.setState({ buttonIsShowRegions: !bool })\n    }\n    toggleLoop = () => {\n        const bool = this.state.buttonIsLoop\n        this.setState({ buttonIsLoop: !bool })\n    }\n    toggleShowMiniMap = () => {\n        const bool = this.state.buttonIsShowMiniMap\n        bool ? this.wavesurfer.destroyPlugin('minimap') : this.createMinimap()\n        this.setState({ buttonIsShowMiniMap: !bool})\n    }\n    toggleShowTimeline = () => {\n        const bool = this.state.buttonIsShowTimeline\n        bool ? this.wavesurfer.destroyPlugin('timeline') : this.createTimeline()\n        this.setState({ buttonIsShowTimeline: !bool})\n    }\n    toggleShowCursor = () => {\n        const bool = this.state.buttonIsShowCursor\n        bool ? this.wavesurfer.destroyPlugin('cursor') : this.createCursor()\n        this.setState({ buttonIsShowCursor: !bool})\n    }\n    render(){\n        return (\n            <div>\n                <Collapse in={this.state.checked_1} timeout={1300}> \n                    <div className=\"waveCursorContainer\">\n                        <div className=\"waveContainer\">\n                            <div id='waveform'></div>\n                            <br/>\n                            <div id='wave-minimap'></div>\n                            <div id='wave-timeline'></div>\n                        </div>\n                    </div>\n                </Collapse>\n                <Collapse in={this.state.checked_2} timeout={2000}>\n                    <div className=\"buttonContainer\">\n                        <button onClick={this.togglePlay} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                { this.state.buttonIsPlay ? <Pause/> : <PlayArrow/> }\n                            </div>\n                        </button>\n                        <button onClick={this.toggleLoop} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                { this.state.buttonIsLoop ? <SyncOutlined/> : <SyncDisabledOutlined/> }\n                            </div>\n                        </button>\n                        <button onClick={this.toggleClearRegions} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowRegions ? \"disable regions\" : \"able regions\" }\n                        </button>\n                        <button onClick={this.toggleShowMiniMap} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowMiniMap ? \"close minimap\" : \"open minimap\" }\n                        </button>\n                        <button onClick={this.toggleShowTimeline} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowTimeline ? \"close timeline\" : \"open timeline\" }\n                        </button>\n                        <button onClick={this.toggleShowCursor} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowCursor ? \"close cursor\" : \"open sursor\"}\n                        </button>\n                        <button onClick={this.reCreateWavesurfer} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                <Refresh/>\n                            </div>\n                        </button>\n                        { this.state.progressState  ? (\n                            <div className=\"progressContainer\">\n                                <ColorCircularProgress/>\n                            </div>\n                        ) : (\n                            <Collapse in={this.state.progressState} timeout={2000}>\n                                <div></div>\n                            </Collapse>\n                        ) }\n                    </div>\n                </Collapse>\n                <Collapse in={this.state.buttonRegionClick} timeout={1000}>\n                    <RegionMessage region={this.state.regionContent}/>\n                </Collapse>\n               \n            </div>\n        );\n    }\n}\n\nShowWave.propTypes = {\n    file: PropTypes.string,\n    isRecord: PropTypes.bool,\n    blobUrl: PropTypes.string\n}\n\nShowWave.propTypes = {\n    isRecord: false\n}\n","import React from 'react';\nimport './styles.css'\nimport Collapse from '@material-ui/core/Collapse';\nimport ColorCircularProgress from '../ProgressCircle/ProgressCircle'\nimport ShowWave from '../ShowWave/ShowWave'\nclass Uploader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            checked: false,\n            isUploadFile: false,\n            filename: \"default\",\n            progressState: \"idle\",\n        }\n    }\n    componentDidMount() {\n        var that = this;\n\t\tsetTimeout(() => {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n    }\n    show = () => {\n        var that = this\n\t\tvar delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve,s); \n            });\n        };\n        delay().then(() => {\n            delay(500)\n            that.setState({ checked: true })\n        })\n    }\n    handleUploadImage = (ev) => {\n        // handle read data from form\n        ev.preventDefault();\n        const data = new FormData();\n        \n        // handle file max size\n        if (this.uploadInput.files.length){\n            const maxSize = 1024 * 1024 * 10\n            let fileSize = this.uploadInput.files[0].size\n            if (fileSize > maxSize){\n                alert(\"file size is more then \" + 10 + \" MBs.\")\n                return false\n            }\n        } else {\n            alert('Please select a wav file first.')\n            return false\n        }\n        data.append('file', this.uploadInput.files[0]);\n        this.setState({ filename: this.uploadInput.files[0].name })\n        \n        // handle progress circle\n        if (this.state.progressState !== 'idle') {\n            this.setState({ progressState: 'idle' });\n            return;\n        }\n        this.setState({ progressState: 'progress' });\n        \n\n        fetch('https://www.haranalyzer.site/upload', {\n            method: 'POST',\n            body: data,\n        }).then((response) => {\n            if(response.ok){\n                this.setState({ progressState: 'success' })\n                return (response)\n            } else {\n                throw new Error('Something went wrong');\n            }\n        }).then(() => {\n            console.log(\"IN!!!!\")\n            this.setState({ isUploadFile: true })\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n    toggleSelect = (event) => {\n        event.persist()\n        this.setState({filename: event.target.value});\n    }\n    toggleSelectButton = () => {\n        if (this.state.filename === \"default\") {\n            alert(\"Please select a example.\")\n            return false\n        }\n        this.setState({ isUploadFile: true })\n    }\n    render() {\n        if (!this.state.isUploadFile){\n            return(\n                <div>\n                    <Collapse in={this.state.checked} timeout={2000}>\n                        <div className=\"uploadContainer\">\n                            <form onSubmit={this.handleUploadImage} className=\"formContainer\">\n                                <div className=\"fromPadding\">\n                                    <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n                                        請選擇 wav 檔\n                                    </label>\n                                    <input ref={(ref) => { this.uploadInput = ref; }} type=\"file\" id=\"file-upload\" accept=\"audio/wav\"/>\n                                </div>\n                                <div className=\"fromPadding\">\n                                    <button disabled={this.state.progressState === 'progress'}>上傳</button>\n                                </div>\n                            </form>\n                            <div className=\"formContainer\">\n                                <div className=\"field\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"demo-category\">或選擇範例音檔</label>\n\t\t\t\t\t\t\t\t\t<select value={this.state.filename} name=\"demo-category\" id=\"demo-category\" onChange={this.toggleSelect}>\n\t\t\t\t\t\t\t\t\t\t<option value=\"default\">-</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"little_star.wav\">小星星</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n                                <div className=\"fromPadding\">\n                                    <button onClick={this.toggleSelectButton} className=\"selectButton\" disabled={this.state.progressState === 'progress'}>上傳</button>\n                                </div>\n                            </div>\n                            <div className=\"recordContainer\">\n                                <div className=\"recordTextContainer\">\n                                    <p>或選擇直接錄音</p>\n                                </div>\n                                <div className=\"uploadIcon\">\n                                    <a href=\"/#/record\"><button>進入錄音頁面</button></a>\n                                </div>\n                            </div>\n                            {this.state.progressState === 'success' ? (\n                                <div className=\"hidden\"></div>\n                            ) : (\n                                <Collapse\n                                    in={this.state.progressState === 'progress'}\n                                    timeout={2000}\n                                    unmountOnExit\n                                >\n                                    <div className=\"progressContainer\">\n                                        <ColorCircularProgress />\n                                    </div>\n                                </Collapse>\n                            )}\n                        </div>\n                    </Collapse>\n                </div>     \n            );\n        }\n        else {\n            return(\n                <div>\n                    <ShowWave file={this.state.filename} isRecord={false}/>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Uploader;","import React from 'react'\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport './styles.css'\n\nexport default class Navbar extends React.Component{\n    render(){\n        return(\n            <div className=\"homeIcon\">\n                <a href=\"/#/home\"><HomeOutlinedIcon/></a>\n            </div>\n        );\n    }\n}","import React from 'react'\nimport './styles.css'\nimport Uploader from '../../components/Uploader/Uploader'\nimport Navbar from '../../components/Navbar/Navbar';\nexport default class StartPage extends React.Component{\n    render(){ \n        return(\n            <div>\n                <Navbar/>\n                <Uploader/>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport ShowWave from \"../ShowWave/ShowWave\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ColorCircularProgress from '../ProgressCircle/ProgressCircle'\nimport \"./styles.css\";\n\n// global varible area\nlet mediaRecorder = null;\n\nexport default class Recorder extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isStop: false,\n            checked: false,\n            recordChecked: false,\n            progressChecked: false,\n            blobUrl: \"\",\n            isMicAvailable: false,\n        };\n        this.micDeviceRef = React.createRef()\n        this.canvasRef = React.createRef()\n    }\n    componentDidMount() {\n        this.getMicDevice()\n        var that = this;\n        setTimeout(() => {\n            that.show();\n        }, that.props.wait);\n    }\n    getMicDevice = () => {\n        navigator.mediaDevices.enumerateDevices()\n            .then((deviceInfos) => {\n                var mics = [];\n                for (let i = 0; i !== deviceInfos.length; ++i) {\n                    let deviceInfo = deviceInfos[i];\n                    if (deviceInfo.kind === \"audioinput\") {\n                        this.setState({ isMicAvailable: true })\n                        mics.push(deviceInfo);\n                        let label = deviceInfo.label || \"Microphone \" + mics.length;\n                        console.log(\"Mic \", label + \" \" + deviceInfo.deviceId);\n                        const option = document.createElement(\"option\");\n                        option.value = deviceInfo.deviceId;\n                        option.text = label;\n                        this.micDeviceRef.current.appendChild(option);\n                    }\n                }\n            })\n    }\n    show = () => {\n        var that = this;\n        var delay = s => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve, s);\n            });\n        };\n        delay().then(() => {\n            delay(500);\n            that.setState({ checked: true });\n        });\n    };\n    toggleStart = () => {\n        if (!this.state.isMicAvailable){\n            alert(\"There are no mic device.\")\n            return\n        }\n        const contraints = {\n            audio: {\n                deviceId: {\n                    exact: this.micDeviceRef.current.value,\n                },\n            },\n            video: false,\n        }\n        navigator.mediaDevices.getUserMedia(contraints)\n            .then(stream => {\n                const options = {\n                    audioBitsPerSecond: 44100 * 16,\n                    mimeType: \"audio/webm\"\n                };\n                mediaRecorder = new MediaRecorder(stream, options);\n                mediaRecorder.addEventListener('dataavailable', (e) => {\n                    if (e.data.size > 0){\n                        this.handleDataAvailable(e) \n                    }\n                })\n                mediaRecorder.start()\n                this.setState({ recordChecked: true })\n            })\n    };\n    handleDataAvailable = (event) => {\n        const blobDataInWebaFormat = event.data;\n        const blobDataInWavFormat: Blob = new Blob([blobDataInWebaFormat], { type: \"audio/wav\" });\n        const dataUrl = URL.createObjectURL(blobDataInWavFormat);\n        this.setState({ blobUrl: dataUrl });\n        console.log(blobDataInWavFormat);\n        console.log(dataUrl);\n\n        // formdata\n        let wavdata = new FormData();\n        wavdata.append(\"data\", blobDataInWavFormat);\n\n        fetch(\"https://www.haranalyzer.site/recordUpload\", {\n            method: \"POST\",\n            body: wavdata\n        }).then(response => {\n            this.setState({ isStop: true });\n        });\n    };\n    toggleStop = () => {\n        mediaRecorder.stop();\n        this.setState({ recordChecked: false})\n        this.setState({ progressChecked: true })\n        this.handleDataAvailable()\n    };\n    render() {\n        if (!this.state.isStop) {\n            return (\n                <div>\n                    <Collapse in={this.state.checked} timeout={2000}>\n                        <div className=\"recordContainer\">\n                            <select className=\"selectContainer\" ref={this.micDeviceRef} name=\"\" id=\"micSelect\"></select>\n                            <button\n                                className=\"recordButtonContainer\"\n                                onClick={this.toggleStart}\n                            >\n                                start record\n                            </button>\n                            <button\n                                className=\"recordButtonContainer\"\n                                onClick={this.toggleStop}\n                            >\n                                stop record\n                            </button>\n                        </div>\n                    </Collapse>\n                    <Collapse in={this.state.progressChecked} timeout={2000}>\n                        <div className=\"progressContainer\">\n                            <ColorCircularProgress/>\n                        </div>\n                    </Collapse>\n                    <Collapse in={this.state.recordChecked} timeout={2000}>\n                        <div className=\"recordingTextContainer\">\n                            <h3>Recording ...</h3>\n                        </div>\n                    </Collapse>\n                </div>\n            );\n        } else {\n            return (\n                <ShowWave\n                    isRecord={true}\n                    blobUrl={this.state.blobUrl}\n                    file=\"record.wav\"\n                />\n            );\n        }\n    }\n}\n","import React from 'react'\nimport Navbar from '../../components/Navbar/Navbar'\nimport Recorder from '../../components/Recorder/Recorder'\nexport default class RecordPage extends React.Component{\n    componentDidMount(){\n    }\n    render(){\n        return(\n            <div>\n                <Navbar/>\n                <Recorder/>\n            </div>\n        );\n    }\n}","// /src/App.js\nimport React, { Component } from 'react';\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport HomePage from './HomePage/HomePage';\nimport StartPage from './StartPage/StartPage'\nimport RecordPage from './RecordPage/RecordPage'\nclass App extends Component {\n    render() {\n        return (\n            <HashRouter>\n                <Switch>\n                    <Route exact path=\"/\" render={() => <Redirect to=\"/home\"/>} />\n                    <Route path=\"/home\" component={HomePage} />\n                    <Route path=\"/start\" component={StartPage} />\n                    <Route path=\"/record\" component={RecordPage} />\n                </Switch>\n            </HashRouter>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './pages/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}