{"version":3,"sources":["components/HomePageText/HomePageText.js","components/Footer/Footer.js","pages/HomePage/HomePage.js","components/ProgressCircle/ProgressCircle.js","components/RegionMessage/RegionMessage.js","components/ShowWave/ShowWave.js","components/Uploader/Uploader.js","components/Navbar/Navbar.js","pages/StartPage/StartPage.js","pages/RecordPage/RecordPage.js","pages/App.js","index.js"],"names":["HomePageText","props","state","hidden","checked","that","this","setTimeout","show","wait","s","Promise","resolve","reject","then","setState","className","Collapse","in","timeout","href","rel","target","React","Component","Footer","id","HomePage","ColorCircularProgress","withStyles","root","color","CircularProgress","RegionMessage","region","attributes","start","end","ShowWave","handdleRegionClick","console","log","delay","buttonRegionClick","regionContent","initWavesurfer","url","String","file","createWavesurfer","regionArr","length","createRegions","reCreateRegions","wavesurfer","load","options","barWidth","cursorWidth","container","backend","height","progressColor","responsive","waveColor","cursorColor","plugins","RegionsPlugin","create","WaveSurfer","createMinimap","createTimeline","createCursor","on","onPlayEnd","buttonIsLoop","play","fetch","response","json","data","jsonData","progressState","len","regionColor","undefined","regionStateArr","i","regionData","regionDir","drag","resize","push","addRegion","catch","error","arrLen","reCreateWavesurfer","destroy","addPlugin","MinimapPlugin","initPlugin","TimelinePlugin","CursorPlugin","showTime","opacity","hideOnBlur","customShowTimeStyle","padding","checked_1","checked_2","togglePlay","bool","buttonIsPlay","playPause","toggleClearRegions","buttonIsShowRegions","clearRegions","toggleLoop","toggleShowMiniMap","buttonIsShowMiniMap","destroyPlugin","toggleShowTimeline","buttonIsShowTimeline","toggleShowCursor","buttonIsShowCursor","onClick","disabled","Pause","PlayArrow","SyncOutlined","SyncDisabledOutlined","Refresh","Uploader","handleUploadImage","ev","preventDefault","FormData","uploadInput","files","alert","size","append","filename","name","method","body","ok","Error","isUploadFile","toggleSelect","event","persist","value","toggleSelectButton","onSubmit","htmlFor","ref","type","accept","onChange","unmountOnExit","Navbar","StartPage","recordedChunks","RecordPage","toggleStart","navigator","mediaDevices","getUserMedia","audio","video","stream","mediaRecorder","MediaRecorder","mimeType","ondataavailable","handleDataAvailable","stop","URL","createObjectURL","toggleStop","isStop","App","exact","path","render","to","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bc8f0295.chunk.js","sourcesContent":["import React from 'react'\nimport './styles.css'\nimport Collapse from '@material-ui/core/Collapse';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nexport default class HomePageText extends React.Component{\n\tconstructor(props){\n        super(props)\n        this.state = {\n            hidden: \"hidden\",\n            checked: false,\n        }\n    }\n\tcomponentWillMount(){\n        var that = this;\n\t\tsetTimeout(function() {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n\t}\n\tshow() {\n        var that = this\n\t\tvar delay = function(s){\n            return new Promise(function(resolve, reject){\n                setTimeout(resolve,s); \n            });\n        };\n        delay().then(function(){\n            that.setState({hidden: \"\"})\n            // return delay(200); \n        }).then(function(){\n            that.setState({checked: true})\n        });\n\t}\n    render() {\n        return (\n            <div className={this.state.hidden}>\n                <Collapse in={this.state.checked} timeout={1800}>\n                    <div>\n                        <h1>Harmonica Analyzer</h1>\n                        <p>一個給口琴初學者自我檢驗好壞的訓練模型<br/>\n                        可以自動分類吹錯音、音不飽滿…等問題</p>\n                        <a href=\"https://github.com/mushding/harmonica_analyze\" rel=\"noopener noreferrer\" target=\"_blank\"><GitHubIcon/></a>\n                    </div>\n                </Collapse>\n            </div>\n        )\n    }\n};","import React from 'react'\n\nexport default class Footer extends React.Component{\n    render(){\n        return(\n            <footer id=\"footer\">\n\t\t\t\t<p className=\"copyright\">&copy; Untitled. Design: <a href=\"https://html5up.net\">HTML5 UP</a>.</p>\n\t\t\t</footer>\n        );\n    }\n}","import React, { Component } from 'react';\nimport '../../assets/css/main.css'\nimport HomePageText from '../../components/HomePageText/HomePageText'\nimport Footer from '../../components/Footer/Footer'\n\nexport default class HomePage extends Component{\n    componentDidMount(){\n    }\n    render(){\n        return (\n            <div>\n                {/* <ShowWave/> */}\n                <div id=\"wrapper\">\n                \t<header id=\"header\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<span className=\"icon fa-chart-bar\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<div className=\"inner\">\n\t\t\t\t\t\t\t\t<HomePageText wait={1000}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<nav>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li><a href=\"/#/start\">start</a></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</header>\t\n\t\t\t\t\t<Footer/>\n                </div>\n            </div>\n        );\n    }\n}","import { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst ColorCircularProgress = withStyles({\n  root: {\n    color: '#005266',\n  },\n})(CircularProgress);\n\nexport default ColorCircularProgress","import React from 'react'\nimport './styles.css'\nexport default class RegionMessage extends React.Component{\n    componentDidMount(){\n    }\n    render(){\n        const region = this.props.region\n        return(\n            <div className=\"messageContainer\">\n                <div className=\"textContainer\">\n                    { region.attributes === \"1\" ? (\n                        <h3>The Error is have a flat note</h3>\n                    ) : region.attributes === \"2\" ? (\n                        <h3>The Error is have a double note</h3>\n                    ) : (\n                        <h3>attributes: {region.attributes}</h3>\n                    )}\n                </div>\n                <div className=\"textContainer\">\n                    <h3>start at {region.start} sec</h3>\n                </div>\n                <div className=\"textContainer\">\n                    <h3>end at {region.end} sec</h3>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport CursorPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.cursor';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions';\nimport MinimapPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.minimap';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline';\nimport './styles.css';\nimport RegionMessage from '../RegionMessage/RegionMessage'\nimport Collapse from '@material-ui/core/Collapse';\nimport ColorCircularProgress from '../ProgressCircle/ProgressCircle'\nimport {\n    PlayArrow,\n    Pause,\n    SyncDisabledOutlined,\n    SyncOutlined,\n    Refresh,\n} from '@material-ui/icons'\n\nexport default class ShowWave extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            regionArr: [],\n            regionContent: {},\n            buttonIsPlay: false,\n            buttonIsLoop: false,\n            buttonIsShowRegions: true,\n            buttonIsShowMiniMap: true,\n            buttonIsShowTimeline: true,\n            buttonIsShowCursor: true,\n            buttonRegionClick: false,\n            checked_1: false,\n            checked_2: false,\n            progressState: true,\n        }\n    }\n    handdleRegionClick = (region) => {\n        console.log(region)\n        let that = this\n\t\tlet delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve, s); \n            });\n        };\n        delay().then(() => {\n            that.setState({ buttonRegionClick: false })\n            return delay(1000); \n        }).then(() => {\n            that.setState({ regionContent: region })\n        }).then(() => {\n            that.setState({ buttonRegionClick: true })\n        })\n    }\n    initWavesurfer = () => {\n        const url = \"https://www.haranalyzer.site/wav/\" + String(this.props.file)\n        this.createWavesurfer()\n        if (this.state.regionArr.length === 0) {\n            this.createRegions()\n        } else {\n            this.reCreateRegions()\n        }\n        this.wavesurfer.load(url)\n    }\n    createWavesurfer = () => {\n        const options = {\n            barWidth: 1,\n            cursorWidth: 1,\n            container: '#waveform',\n            backend: 'MediaElement',\n            height: 200,\n            progressColor: '#005266',\n            responsive: true,\n            waveColor: '#fff',\n            cursorColor: '#005266',\n            plugins: [\n                RegionsPlugin.create(),\n            ]\n        };\n        const wavesurfer = WaveSurfer.create(options);\n        this.wavesurfer = wavesurfer\n        this.createMinimap()\n        this.createTimeline()\n        this.createCursor()\n\n        // event listener\n        wavesurfer.on('region-in', (region) => {\n            this.region = region\n        })\n        wavesurfer.on('region-out', this.onPlayEnd)\n        wavesurfer.on('region-click', this.handdleRegionClick)\n    }\n    onPlayEnd = () => {\n        this.state.buttonIsLoop ? this.wavesurfer.play() : this.wavesurfer.play(this.region.start)\n    }\n    createRegions = () => {\n        fetch(\"https://www.haranalyzer.site/getoutput/\" + this.props.file, {})\n            .then((response) => {\n                let data_promise = Promise.resolve(response.json())\n                data_promise.then((data) => {\n                    return data\n                }).then((jsonData) => {\n                    this.setState({ progressState: false })\n                    let len = jsonData.length\n                    let regionColor = undefined\n                    let regionStateArr = []\n                    for (let i = 0; i < len; i++){\n                        const regionData = jsonData[i]\n                        const errorType = jsonData[i][\"type\"]\n                        switch (errorType){\n                            case \"1\":\n                                regionColor = \"hsla(197, 40%, 23%, 0.3)\"\n                                break;\n                            case \"2\":\n                                regionColor = \"hsla(195, 63%, 23%, 0.2)\"\n                                break;\n                            default:\n                                break;\n                        }\n                        const regionDir = {\n                            start: regionData[\"start\"],\n                            end: regionData[\"end\"],\n                            drag: regionData[\"drag\"],\n                            resize: regionData[\"resize\"],\n                            attributes: regionData[\"type\"],\n                            color: regionColor,\n                        }\n                        regionStateArr.push(regionDir)\n                        this.wavesurfer.addRegion(regionDir) \n                    }\n                    this.setState({ regionArr: regionStateArr})\n                })\n            })\n            .catch((error) => {\n                console.log(error)\n                return false\n            })\n        return true\n    }\n    reCreateRegions = () => {\n        let arrLen = this.state.regionArr.length\n        for(let i = 0; i < arrLen; i++){\n            this.wavesurfer.addRegion(this.state.regionArr[i]) \n        }\n    }\n    reCreateWavesurfer = () => {\n        this.wavesurfer.destroy()\n        this.initWavesurfer()\n        this.setState({ buttonRegionClick: false })\n    }\n    createMinimap = () => {\n        this.wavesurfer.addPlugin(MinimapPlugin.create({\n            container: '#wave-minimap',\n            waveColor: '#777',\n            progressColor: '#222',\n            height: 50,\n        })).initPlugin('minimap')\n    }\n    createTimeline = () => {\n        this.wavesurfer.addPlugin(TimelinePlugin.create({\n            container: \"#wave-timeline\",\n        })).initPlugin('timeline')\n    }\n    createCursor = () => {\n        this.wavesurfer.addPlugin(CursorPlugin.create({\n            showTime: true,\n            opacity: 1,\n            hideOnBlur: true,\n            color: \"#005266\",\n            customShowTimeStyle: {\n                'background-color': '#005266',\n                color: '#fff',\n                padding: '3px',\n                'font-size': '15px'\n            }\n        })).initPlugin('cursor')\n    }\n    componentDidMount(){\n        this.initWavesurfer()\n        var that = this;\n\t\tsetTimeout(() => {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n    }\n    show = () => {\n        let that = this\n\t\tlet delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve, s); \n            });\n        };\n        delay().then(() => {\n            that.setState({checked_1: true})\n            return delay(800); \n        }).then(() => {\n            that.setState({checked_2: true})\n        });\n    }\n    togglePlay = () => {\n        const bool = this.state.buttonIsPlay\n        this.wavesurfer.playPause();\n        this.setState({ buttonIsPlay: !bool })\n    }\n    toggleClearRegions = () => {\n        const bool = this.state.buttonIsShowRegions\n        bool ? this.wavesurfer.clearRegions() : this.reCreateRegions()\n        this.setState({ buttonIsShowRegions: !bool })\n    }\n    toggleLoop = () => {\n        const bool = this.state.buttonIsLoop\n        this.setState({ buttonIsLoop: !bool })\n    }\n    toggleShowMiniMap = () => {\n        const bool = this.state.buttonIsShowMiniMap\n        bool ? this.wavesurfer.destroyPlugin('minimap') : this.createMinimap()\n        this.setState({ buttonIsShowMiniMap: !bool})\n    }\n    toggleShowTimeline = () => {\n        const bool = this.state.buttonIsShowTimeline\n        bool ? this.wavesurfer.destroyPlugin('timeline') : this.createTimeline()\n        this.setState({ buttonIsShowTimeline: !bool})\n    }\n    toggleShowCursor = () => {\n        const bool = this.state.buttonIsShowCursor\n        bool ? this.wavesurfer.destroyPlugin('cursor') : this.createCursor()\n        this.setState({ buttonIsShowCursor: !bool})\n    }\n    render(){\n        return (\n            <div>\n                <Collapse in={this.state.checked_1} timeout={1300}> \n                    <div className=\"waveCursorContainer\">\n                        <div className=\"waveContainer\">\n                            <div id='waveform'></div>\n                            <br/>\n                            <div id='wave-minimap'></div>\n                            <div id='wave-timeline'></div>\n                        </div>\n                    </div>\n                </Collapse>\n                <Collapse in={this.state.checked_2} timeout={2000}>\n                    <div className=\"buttonContainer\">\n                        <button onClick={this.togglePlay} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                { this.state.buttonIsPlay ? <Pause/> : <PlayArrow/> }\n                            </div>\n                        </button>\n                        <button onClick={this.toggleLoop} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                { this.state.buttonIsLoop ? <SyncOutlined/> : <SyncDisabledOutlined/> }\n                            </div>\n                        </button>\n                        <button onClick={this.toggleClearRegions} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowRegions ? \"disable regions\" : \"able regions\" }\n                        </button>\n                        <button onClick={this.toggleShowMiniMap} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowMiniMap ? \"close minimap\" : \"open minimap\" }\n                        </button>\n                        <button onClick={this.toggleShowTimeline} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowTimeline ? \"close timeline\" : \"open timeline\" }\n                        </button>\n                        <button onClick={this.toggleShowCursor} disabled={this.state.progressState}>\n                            { this.state.buttonIsShowCursor ? \"close cursor\" : \"open sursor\"}\n                        </button>\n                        <button onClick={this.reCreateWavesurfer} disabled={this.state.progressState}>\n                            <div className=\"buttonIcon\">\n                                <Refresh/>\n                            </div>\n                        </button>\n                        { this.state.progressState  ? (\n                            <div className=\"progressContainer\">\n                                <ColorCircularProgress/>\n                            </div>\n                        ) : (\n                            <Collapse in={this.state.progressState} timeout={2000}>\n                                <div></div>\n                            </Collapse>\n                        ) }\n                    </div>\n                </Collapse>\n                <Collapse in={this.state.buttonRegionClick} timeout={1000}>\n                    <RegionMessage region={this.state.regionContent}/>\n                </Collapse>\n               \n            </div>\n        );\n    }\n}","import React from 'react';\nimport './styles.css'\nimport Collapse from '@material-ui/core/Collapse';\nimport ColorCircularProgress from '../ProgressCircle/ProgressCircle'\nimport ShowWave from '../ShowWave/ShowWave'\nclass Uploader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            checked: false,\n            isUploadFile: false,\n            filename: \"default\",\n            progressState: \"idle\",\n        }\n    }\n    componentDidMount() {\n        var that = this;\n\t\tsetTimeout(() => {\n\t\t\tthat.show();\n\t\t}, that.props.wait);\n    }\n    show = () => {\n        var that = this\n\t\tvar delay = (s) => {\n            return new Promise((resolve, reject) => {\n                setTimeout(resolve,s); \n            });\n        };\n        delay().then(() => {\n            delay(500)\n            that.setState({ checked: true })\n        })\n    }\n    handleUploadImage = (ev) => {\n        // handle read data from form\n        ev.preventDefault();\n        const data = new FormData();\n        \n        // handle file max size\n        if (this.uploadInput.files.length){\n            const maxSize = 1024 * 1024 * 10\n            let fileSize = this.uploadInput.files[0].size\n            if (fileSize > maxSize){\n                alert(\"file size is more then \" + 10 + \" MBs.\")\n                return false\n            }\n        } else {\n            alert('Please select a wav file first.')\n            return false\n        }\n        data.append('file', this.uploadInput.files[0]);\n        this.setState({ filename: this.uploadInput.files[0].name })\n        \n        // handle progress circle\n        if (this.state.progressState !== 'idle') {\n            this.setState({ progressState: 'idle' });\n            return;\n        }\n        this.setState({ progressState: 'progress' });\n        \n\n        fetch('https://www.haranalyzer.site/upload', {\n            method: 'POST',\n            body: data,\n        }).then((response) => {\n            if(response.ok){\n                this.setState({ progressState: 'success' })\n                return (response)\n            } else {\n                throw new Error('Something went wrong');\n            }\n        }).then(() => {\n            console.log(\"IN!!!!\")\n            this.setState({ isUploadFile: true })\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n    toggleSelect = (event) => {\n        event.persist()\n        this.setState({filename: event.target.value});\n    }\n    toggleSelectButton = () => {\n        if (this.state.filename === \"default\") {\n            alert(\"Please select a example.\")\n            return false\n        }\n        this.setState({ isUploadFile: true })\n    }\n    render() {\n        if (!this.state.isUploadFile){\n            return(\n                <div>\n                    <Collapse in={this.state.checked} timeout={2500}>\n                        <div className=\"uploadContainer\">\n                            <form onSubmit={this.handleUploadImage} className=\"formContainer\">\n                                <div className=\"fromPadding\">\n                                    <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n                                        Select wav file HERE\n                                    </label>\n                                    <input ref={(ref) => { this.uploadInput = ref; }} type=\"file\" id=\"file-upload\" accept=\"audio/wav\"/>\n                                </div>\n                                <div className=\"fromPadding\">\n                                    <button disabled={this.state.progressState === 'progress'}>Upload</button>\n                                </div>\n                            </form>\n                            <div className=\"formContainer\">\n                                <div className=\"field\">\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"demo-category\">Or Select examples</label>\n\t\t\t\t\t\t\t\t\t<select value={this.state.filename} name=\"demo-category\" id=\"demo-category\" onChange={this.toggleSelect}>\n\t\t\t\t\t\t\t\t\t\t<option value=\"default\">-</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"little_star.wav\">Little Stars</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n                                <div className=\"fromPadding\">\n                                    <button onClick={this.toggleSelectButton} className=\"selectButton\" disabled={this.state.progressState === 'progress'}>Upload</button>\n                                </div>\n                            </div>\n                            {this.state.progressState === 'success' ? (\n                                <div className=\"hidden\"></div>\n                            ) : (\n                                <Collapse\n                                    in={this.state.progressState === 'progress'}\n                                    timeout={2000}\n                                    unmountOnExit\n                                >\n                                    <div className=\"progressContainer\">\n                                        <ColorCircularProgress />\n                                    </div>\n                                </Collapse>\n                            )}\n                        </div>\n                    </Collapse>\n                </div>     \n            );\n        }\n        else {\n            return(\n                <div>\n                    <ShowWave file={this.state.filename}/>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Uploader;","import React from 'react'\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport './styles.css'\n\nexport default class Navbar extends React.Component{\n    render(){\n        return(\n            <div className=\"homeIcon\">\n                <a href=\"/home\"><HomeOutlinedIcon/></a>\n            </div>\n        );\n    }\n}","import React from 'react'\nimport './styles.css'\nimport Uploader from '../../components/Uploader/Uploader'\nimport Navbar from '../../components/Navbar/Navbar';\nexport default class StartPage extends React.Component{\n    render(){ \n        return(\n            <div>\n                <Navbar/>\n                <Uploader/>\n                <div className=\"informationContainer\">\n                   \n                </div>\n            </div>\n        );\n    }\n}","import React from 'react'\nconst recordedChunks = []\nexport default class RecordPage extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            isStop: false,\n        }\n    }\n    componentDidMount(){\n\n    }\n    toggleStart = () => {\n        navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n            .then((stream) => {\n                const options = {mimeType: 'audio/webm'};\n                const mediaRecorder = new MediaRecorder(stream, options)\n                console.log(\"record\")\n                mediaRecorder.ondataavailable = this.handleDataAvailable;\n                \n                // mediaRecorder.addEventListener(\"stop\", () => {\n                //     console.log(\"stop\")\n                // })\n                mediaRecorder.start()\n                setTimeout(() => {\n                    mediaRecorder.stop()\n                }, 3000)\n            })\n    }\n    handleDataAvailable = (event) => {\n        console.log(\"push\")\n        console.log(event.data)\n        console.log(URL.createObjectURL(event.data))\n        if (event.data.size > 0){\n            recordedChunks.push(event.data);\n        }\n    }\n    toggleStop = () => {\n        console.log(\"press\")\n        this.setState({ isStop: true })\n    }\n    render(){\n        return(\n            <div>\n                <button onClick={this.toggleStart}>START</button>\n                <button onClick={this.toggleStop}>STOP</button>\n            </div>\n        );\n    }\n}","// /src/App.js\nimport React, { Component } from 'react';\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport HomePage from './HomePage/HomePage';\nimport StartPage from './StartPage/StartPage'\nimport RecordPage from './RecordPage/RecordPage'\nclass App extends Component {\n    render() {\n        return (\n            <HashRouter>\n                <Switch>\n                    <Route exact path=\"/\" render={() => <Redirect to=\"/home\"/>} />\n                    <Route path=\"/home\" component={HomePage} />\n                    <Route path=\"/start\" component={StartPage} />\n                    <Route path=\"/record\" component={RecordPage} />\n                </Switch>\n            </HashRouter>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './pages/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}